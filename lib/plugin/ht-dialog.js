!function(c,P){"use strict";var w="ht",f=c[w],x="px",p="left",t="top",C="bottom",k="right",y="innerHTML",G="className",n="",Y="width",L="height",T="string",q="position",V="absolute",b="0",J="opacity",Z="background",D=f.Default,$=D.getInternal(),j=f.Color,S=D.animate,I=D.isTouchable,N=null,e=(Math.sqrt,c.parseInt),m=c.setTimeout,d=(Math.round,j.titleIconBackground),A=function(R){return typeof R===T||R instanceof String},M=function(){return document},Q=function(Z){return M().createElement(Z)},K=function(){var o=Q("div");return o.tabIndex=-1,o.style.outline="none",o},R=function(){return Q("canvas")},E=function(k,E){i(k,"-webkit-transform",E),i(k,"-ms-transform",E),i(k,"transform",E)},i=function(A,F,X){A.style.setProperty(F,X,N)},h=function(b,R,s){D.def(f.widget[b],R,s)},F=function(c,U){c.appendChild(U)},U=function(){return M().documentElement},g=function(){return U().clientWidth},s=function(){return U().clientHeight},v=$.addEventListener,l=$.removeEventListener,W=function(E){var T=E.touches[0];return T?T:E.changedTouches[0]};$.addMethod(D,{dialogCloseIcon:{width:100,height:100,comps:[{type:"shape",points:[10,10,90,90],segments:[1,2],borderWidth:8,borderColor:d},{type:"shape",points:[90,10,10,90],segments:[1,2],borderWidth:8,borderColor:d}]},dialogMaximizeIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,15,80,75],borderWidth:6,borderColor:d},{type:"rect",rect:[10,10,80,20],background:d}]},dialogRestoreIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,34,56,56],borderWidth:8,borderColor:d},{type:"rect",rect:[10,34,56,14],background:d},{type:"rect",rect:[34,10,56,14],background:d},{type:"rect",rect:[82,10,8,56],background:d},{type:"rect",rect:[66,62,24,8],background:d}]},dialogTitleLabelColor:D.labelSelectColor,dialogTitleLabelFont:(I?"18":"14")+"px arial, sans-serif",dialogContentLabelFont:D.labelFont,dialogTitleBackground:j.titleBackground,dialogHeaderBackground:j.headerBackground,dialogButtonBackground:"#1ABC9C",dialogButtonSelectBackground:"#16A085",dialogButtonLabelColor:"#fff"},!0);var O=function(K){var C=this;C.$1d=K,C.addListeners()};D.def(O,P,{ms_listener:1,getView:function(){return this.$1d.getView()},clear:function(){delete this.$2d,delete this.$3d,delete this.$4d,delete this.$5d},handle_touchstart:function(z){var C=this,K=C.$1d,P=K.$6d,l=K._config,Q=K.$7d,F=z,f=z.target;if(Q.contains(f)||D.preventDefault(z),D.isLeftButton(z)){I&&(F=W(z));var A=C.$8d={x:F.pageX,y:F.pageY};C.$9d={x:A.x,y:A.y},!l.maximized&&l.draggable&&P.contains(f)&&(C.$4d=!0,D.startDragging(C,z)),C.handle_mousemove(z)&&(C.$2d=!0,D.startDragging(C,z)),Q.contains(z.target)||K.$41d.focus()}},handle_mousedown:function(b){this.handle_touchstart(b)},handle_touchend:function(y){if(D.isLeftButton(y)&&!this.$5d&&!this.$3d){var E=this,G=E.$1d,K=y.target,x=G._config,d=G.$18d,u=G.$16d;for(x.closable&&d.contains(K)&&G.hide(),x.maximizable&&u.contains(K)&&(x.maximized?G.restore():G.maximize());K&&(K.className||"").indexOf("dialog-button")<0;)K=K.parentNode;K&&K.buttonItem&&G.action&&G.action(K.buttonItem,y),delete E.$8d,delete E.$9d}},handle_mouseup:function(G){this.handle_touchend(G)},handleWindowTouchEnd:function(F){var h=this,A=h.$1d,c=A.$10d;h.$2d&&h.$3d?c.fire({kind:"endResize",target:A,originEvent:F}):h.$4d&&h.$5d&&c.fire({kind:"endMove",target:A,originEvent:F}),this.clear()},handleWindowMouseUp:function(d){this.handleWindowTouchEnd(d)},handle_mousemove:function(m){var A=this.$1d._config;if(A.maximized)return!1;if("w"!==A.resizeMode&&"h"!==A.resizeMode&&"wh"!==A.resizeMode)return!1;var K=this,C=K.getView(),Y=C.querySelector(".resize-area"),Q=Y.getBoundingClientRect(),M={x:Q.left,y:Q.top,width:Q.width,height:Q.height};m=I?W(m):m;var y=m.clientX,T=m.clientY,a={x:y,y:T};return D.containsPoint(M,a)?(i(C,"cursor","nwse-resize"),!0):(i(C,"cursor",n),void 0)},handleWindowTouchMove:function(o){o.preventDefault();var Q=o;I&&(Q=W(o));var z=this,S=z.$8d,L=z.$9d;if(!(L.x==S.x&&L.y==S.y&&D.getDistance(L,{x:Q.pageX,y:Q.pageY})<=1)){var f=z.$1d,J=f._config,C=f.$21d,c=J.resizeMode||"wh",H=Q.pageX-S.x,_=Q.pageY-S.y;if(z.$2d){var m=C.offsetWidth,d=C.offsetHeight,q=m+H,E=d+_;if(q=Math.max(q,50),E=Math.max(E,50),"center"===J.position||J.position==N){var V={},P=C.getBoundingClientRect();V.x=P.left,V.y=P.top,J.position=V}"w"===c?(f.setSize(q,d),S.x+=q-m):"h"===c?(f.setSize(m,E),S.y+=E-d):"wh"===c&&(f.setSize(q,E),S.x+=q-m,S.y+=E-d),z.$3d?f.$10d.fire({kind:"betweenResize",target:f,originEvent:o}):(z.$3d=!0,f.$10d.fire({kind:"beginResize",target:f,originEvent:o}))}else if(z.$4d){var O=C.getBoundingClientRect(),F=O.width,v=O.height,Z=g(),j=s(),n=e(C.style.left)||0,Y=e(C.style.top)||0,T=n+H,B=Y+_,w=f.adjustPosition({x:T,y:B},{width:F,height:v},{width:Z,height:j});w&&(T=w.x,B=w.y);var U=T-n,A=B-Y;i(C,p,T+x),i(C,t,B+x),S.x+=U,S.y+=A,J.position={x:T,y:B},z.$5d?f.$10d.fire({kind:"betweenMove",target:f,originEvent:o}):(z.$5d=!0,f.$10d.fire({kind:"beginMove",target:f,originEvent:o}))}}},handleWindowMouseMove:function(z){this.handleWindowTouchMove(z)},handleWindowResize:function(){var y=this,U=y,z=U._config,l=U.$21d,A=g(),N=s(),m=z.width,E=z.height,T=z.position||"center";z.maximized?(i(l,Y,A+x),i(l,L,N+x),i(l,t,b),i(l,p,b)):(i(l,Y,m+x),i(l,L,E+x),"center"===T?(i(l,p,(A-m)/2+x),i(l,t,(N-E)/2+x)):(i(l,p,T.x+x),i(l,t,T.y+x))),U.iv()},handle_mousewheel:function(z){z.stopPropagation()},handle_DOMMouseScroll:function($){$.stopPropagation()}}),f.widget.Dialog=function(U){var L=this,o=L._view=$.createView(null,L);o[G]="ht-widget-dialog",i(o,q,V),D.baseZIndex!=N&&i(o,"z-index",D.baseZIndex+"");var e=L.$11d=new O(L);L.bindingHandleWindowResize=e.handleWindowResize.bind(L),L.$10d=new f.Notifier,U&&L.setConfig(U)},h("Dialog",P,{ms_v:1,ms_fire:1,setTitle:function(N){this._config.title=N,this.getView().querySelector(".dialog-container-title span").innerHTML=N},clearNodes:function(B){if(B)for(;B.firstChild;)B.removeChild(B.firstChild)},$31d:function(){var h=this,U=h.$6d=K(),p=h._config,L=h.$12d=h.$13d();U[G]="dialog-container-title",i(U,"cursor","default"),i(U,"white-space","nowrap"),i(U,"overflow","hidden"),i(U,"font",D.dialogTitleLabelFont),i(U,Z,p.titleBackground||D.dialogTitleBackground),i(U,"color",p.titleColor||D.dialogTitleLabelColor);var N=Q("span"),_=h.$25d();if(p.titleAlign&&i(U,"text-align",p.titleAlign),p.titleIcon){var W=h.$14d=h.$15d();F(U,W)}if(p.title&&p.title.trim&&(p.title=p.title.trim()),N[y]=p.title||"&nbsp;",F(U,N),p.maximizable){var A=h.$16d=h.$17d();F(L,A)}if(p.closable){var l=h.$18d=h.$19d();F(L,l)}return F(U,L),i(U,"display","block"),i(U,"line-height",_+x),U},$13d:function(){var z=K();return i(z,q,V),i(z,p,b),i(z,k,5+x),i(z,t,b),i(z,C,b),i(z,"text-align",k),i(z,"white-space","nowrap"),z[G]="dialog-title-controls",z},$20d:function(){var u=this.$21d=K(),F=this._config,B=F.borderWidth;return i(u,q,"fixed"),i(u,"box-shadow","rgba(0, 0, 0, 0.2) 0px 5px 10px 0px"),i(u,"padding",b+" "+B+x+" "+B+x+" "+B+x),i(u,"box-sizing","border-box"),i(u,"-moz-box-sizing","border-box"),u[G]="dialog-container",i(u,Z,F.titleBackground||D.dialogTitleBackground),u},$22d:function(){var S,c=this,u=c._config,I=c.$7d=K(),o=u.content,W=0,h=u.contentPadding||0;u.buttons!=N&&u.buttons.length>0&&(W=32),A(o)?I[y]=o:o.getView?(S=o.getView(),F(I,S)):(S=o,F(I,S)),i(I,q,V),i(I,"font",D.dialogContentLabelFont),f.Default.appendToScreen(I);var e=I.offsetWidth+1,Q=I.offsetHeight,H=c.$25d();return u.width==N&&(u.width=e+10+2*h),u.height==N&&(u.height=Q+H+W+5+2*h),f.Default.removeHTML(I),S&&(i(S,"box-sizing","border-box"),i(S,"-moz-box-sizing","border-box"),i(S,Y,"100%"),i(S,L,"100%")),I[G]="dialog-content",i(I,t,H+h+x),i(I,C,W+h+x),i(I,p,h+x),i(I,k,h+x),i(I,"overflow","hidden"),I},getOverlayDiv:function(){return this.$41d},$23d:function(){var U=this.$41d=K();return U[G]="dialog-overlay",i(U,Y,"100%"),i(U,L,"100%"),i(U,q,"fixed"),i(U,t,b),i(U,p,b),i(U,Z,"rgba(235, 235, 235, 0.7)"),U},_config:N,setSize:function(x,$){var T=this,j=T._config;j&&(j.width=x,j.height=$,T.isShowing()&&(T.bindingHandleWindowResize(),T.iv()))},getConfig:function(){return this._config},$24d:function(){var X=this._config,J=X.titleIconSize||16;return I&&(J*=1.2),J},$25d:function(){var c=this._config,I=c.titleHeight||D.widgetTitleHeight;return I},$26d:function(N){i(N,"cursor","pointer"),i(N,"display","inline-block"),i(N,"margin-right",(I?8:4)+x),i(N,"vertical-align",t)},$27d:function(){var W=this.$30d=K(),U=10;return I&&(U=20),i(W,Y,U+x),i(W,L,U+x),i(W,q,V),i(W,C,b),i(W,k,b),W[G]="resize-area",W},$15d:function(){var c=this,k=R();k[G]="dialog-title-control dialog-title-control-icon";var w=c.$25d(),P=c.$24d();return c.$26d(k),$.setCanvas(k,P,w),k},$17d:function(){var a=R();a[G]="dialog-title-control dialog-title-control-maximize";var i=this.$25d(),y=this.$24d();return this.$26d(a),$.setCanvas(a,y,i),a},$19d:function(){var n=R();n[G]="dialog-title-control dialog-title-control-close";var w=this.$25d(),L=this.$24d();return this.$26d(n),$.setCanvas(n,L,w),n},$28d:function(){var N=K();return i(N,Z,D.dialogContentBackground||"white"),i(N,Y,"100%"),i(N,L,"100%"),i(N,q,"relative"),N},$29d:function(){var B=this,M=K();i(M,"line-height",32+x),i(M,q,V),i(M,C,b),i(M,p,b),i(M,"white-space","nowrap"),i(M,"overflow","hidden"),i(M,k,b),i(M,Z,D.dialogHeaderBackground),M[G]="dialog-container-buttons";var w=this._config,$=w.buttonsAlign||k,r=0;return i(M,"text-align",$),B.$42d=[],w.buttons.forEach(function(e){var _=new f.widget.Button,h=_.getView();h[G]="dialog-button "+e.className,h.buttonItem=e,B.$42d.push(_),_.setBorderColor(N),_.setBackground(D.dialogButtonBackground),_.setSelectBackground(D.dialogButtonSelectBackground),_.setLabelColor(D.dialogButtonLabelColor),i(h,q,"relative"),i(h,"display","inline-block"),i(h,"text-align",p),i(h,"height",24+x);var H=I?10:5;$===p||$===k?i(h,"margin-"+$,H+x):0===r||i(h,"margin-"+p,H+x),i(h,"vertical-align","middle");var b=D.getTextSize(_.getLabelFont(),e.label).width+10;_.onClicked=function($){e.action&&e.action.call(B,e,$)},_.setLabel(e.label),_.setDisabled(e.disabled),i(h,Y,b+x),F(M,_.getView()),r++}),M},setConfig:function(e){if(e){var J=this,K=J._view;J._config=e,J.action=e.action,J.clearNodes(K),e.borderWidth==N&&(e.borderWidth=5);var d=J.$23d(),X=J.$28d(),a=J.$31d(),A=J.$22d(),z=J.$20d(),T=J.$30d=J.$27d();if(F(K,d),F(K,z),F(z,X),F(X,a),F(X,A),e.buttons!=N&&e.buttons.length>0){var I=J.$29d();F(X,I)}F(z,T),e.maximized?(e.maximized=!1,J.bindingHandleWindowResize(),J.maximize(!0)):J.bindingHandleWindowResize(),J.isShowing()&&J.iv()}},hide:function(){var Y=this,u=Y.$21d,F=Y.$41d,i=Y._view;i[G]="ht-widget-dialog",S(u).duration(200).scale(.7).set(J,b).end(function(){Y.onHidden&&Y.onHidden(),f.Default.removeHTML(i),Y.$10d.fire({kind:"hide",target:Y})}),S(F).duration(200).set(J,b).end(),l(c,"resize",Y.bindingHandleWindowResize)},isShowing:function(){return!!this._view.parentNode},setModal:function(d){this.$41d.style.display=d?"block":"none"},isModal:function(){return"none"!==this.$41d.style.display},$32d:function(){var p=this,x=p._config,t=p.$21d;E(t,n),p.iv(),x.maximized?p.$10d.fire({kind:"maximize",target:p}):p.$10d.fire({kind:"restore",target:p})},maximize:function(f){var A=this,J=A.$21d,u=A._config;if(!u.maximized){u.maximized=!0,A.$33d(),A.$16d[G]="dialog-title-control dialog-title-control-minimize";var U=g(),M=s(),V=u.width,j=u.height,P=e(J.style.left)||0,H=e(J.style.top)||0;A.$36d=V,A.$37d=j,A.$34d=P,A.$35d=H;var o=f?0:200;S(J).duration(o).set(p,b).set(t,b).set(Y,U+x).set(L,M+x).end(function(){A.$32d()})}},restore:function(){var k=this,w=k.$34d,m=k.$35d,e=k.$36d,r=k.$37d,d=k._config;if(d.maximized&&(d.maximized=!1,k.$33d(),k.$16d[G]="dialog-title-control dialog-title-control-maximize",k.isShowing()&&w!=N&&m!=N&&e!=N&&r!=N)){var Z=k.$21d;S(Z).duration(200).set(p,w+x).set(t,m+x).set(Y,e+x).set(L,r+x).end(function(){k.$32d()})}delete k.$34d,delete k.$35d,delete k.$36d,delete k.$37d},show:function(){var D=this,q=D._view,B=D._config,P=D.$21d,z=D.$41d;B&&B.zIndex!=N&&i(q,"z-index",B.zIndex+n),f.Default.appendToScreen(q),E(P,"scale(0.7)"),i(P,J,b),D.iv(),D.validate(),D._view[G]+=" dialog-show",m(function(){S(P).duration(200).scale(1).set(J,"1").end(function(){i(P,Y,P.clientWidth+x),i(P,L,P.clientHeight+x),D.onShown&&D.onShown(),D.$10d.fire({kind:"show",target:D});var l=B&&B.content;l&&l.iv&&l.iv()}),S(z).duration(200).set(J,"1").end(),v(c,"resize",D.bindingHandleWindowResize)},30)},setPosition:function(A){var Z=this.$21d;Z.style.left=A.x+"px",Z.style.top=A.y+"px"},addEventListener:function(p,q,h){this.$10d.add(p,q,h)},removeEventListener:function(i,l){this.$10d.remove(i,l)},$38d:function(K,v,k,x){var f=$.initContext(K);$.translateAndScale(f,0,0,1),f.clearRect(0,0,k,k);var z=(k-x)/2;D.drawStretchImage(f,D.getImage(v),"fill",0,z,x,x),f.restore()},$33d:function(){var d=this,O=d._config,a=d.$16d,r=O.maximized?D.dialogRestoreIcon:D.dialogMaximizeIcon;if(a&&r){var g=d.$25d(),C=d.$24d();d.$38d(a,D.getImage(r),g,C)}},$39d:function(){var g=this,K=g._config,F=g.$14d,o=K.titleIcon;if(F&&o){var I=g.$25d(),M=g.$24d();g.$38d(F,D.getImage(o),I,M)}},$40d:function(){var n=this,K=n.$18d,b=D.dialogCloseIcon;if(K&&b){var k=n.$25d(),Y=n.$24d();n.$38d(K,D.getImage(b),k,Y)}},invalidate:function(J){var m=this,B=m.$42d;m._68I||(m._68I=1,D.callLater(m.validate,m,N,J),m.onInvalidated&&m.onInvalidated(),m.fireViewEvent("invalidate"));var Y=m._config.content;Y.invalidate&&Y.invalidate(),B&&B.forEach(function(A){A.iv()})},validateImpl:function(){var T=this;T.$40d(),T.$33d(),T.$39d();var Y=T._config.content;Y.initView&&(Y.setX(0),Y.setY(0),Y.setWidth(T.$7d.clientWidth),Y.setHeight(T.$7d.clientHeight))},adjustPosition:function(G,t,Z){var n=t.width,B=t.height,s=Z.width,r=Z.height,V=G.x,X=G.y,v=this._config,_=v.minDragSize||20;return"inside"===v.dragMode?(V+n>s&&(V=s-n),X+B>r&&(X=r-B),0>V&&(V=0),0>X&&(X=0)):(null==v.dragMode||"none"===v.dragMode)&&(-n+_>V&&(V=-n+_),V>s-_&&(V=s-_),X>r-_&&(X=r-_),0>X&&(X=0)),{x:V,y:X}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);