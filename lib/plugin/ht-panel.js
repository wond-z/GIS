!function(W,K,y){"use strict";var T="ht",A=W[T],q=A.Default,B=q.isTouchable,h=A.Color,H="px",Y="0",Z="innerHTML",t="className",z="position",N="absolute",g="width",j="height",r="left",s="top",P="right",l="bottom",i="max-width",M="max-height",R=null,n="none",C="",o=W.parseInt,p=W.setTimeout,V=q.getInternal(),f=q.animate,L=h.titleIconBackground,e=function(){return document},E=function(y){return e().createElement(y)},v=function(){return E("div")},m=function(){return E("canvas")},c=function(F,T,P){F.style.setProperty(T,P,R)},u=function(Z,s){return Z.style.getPropertyValue(s)},X=function(G,d){G.appendChild(d)},G=function(Z,l){Z.removeChild(l)},d=V.addEventListener,S=(V.removeEventListener,function(O){var r=O.scrollWidth,H=O.scrollHeight;return O===e().body&&(r=Math.max(r,e().documentElement.scrollWidth),H=Math.max(H,e().documentElement.scrollHeight)),{width:r,height:H}}),J=function(d){var R=d.touches[0];return R?R:d.changedTouches[0]};V.addMethod(q,{panelExpandIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:L,rotation:3.14}]},panelCollapseIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:L}]},panelLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:L},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,44],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:L}]},panelUnLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:L},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,26],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:L}]},panelMinimizeIcon:{width:100,height:100,comps:[{type:"shape",points:[10,35,35,35,35,10],segments:[1,2,2],borderWidth:8,borderColor:L},{type:"shape",points:[90,35,65,35,65,10],segments:[1,2,2],borderWidth:8,borderColor:L},{type:"shape",points:[10,65,35,65,35,90],segments:[1,2,2],borderWidth:8,borderColor:L},{type:"shape",points:[65,90,65,65,90,65],segments:[1,2,2],borderWidth:8,borderColor:L}]},panelRestoreIcon:{width:300,height:300,comps:[{type:"rect",rect:[10,24,268,56],background:L},{type:"rect",rect:[10,118,268,56],background:L},{type:"rect",rect:[10,213,268,56],background:L}]},panelTitleLabelColor:q.labelSelectColor,panelTitleLabelFont:q.labelFont,panelContentLabelFont:q.labelFont,panelTitleBackground:h.titleBackground,panelSeparatorWidth:1,panelSeparatorColor:y},!0);var b=A.widget.Panel=function(h){var P=this,U=P._view=V.createView(null,P);P.$1i=0,P.$18i=new A.Notifier,P.$2i="leftTop",c(U,s,Y),c(U,r,Y),c(U,z,N),c(U,"overflow","hidden"),P._interactor=new I(P),P.setConfig(h),P.addEventListener(function(q){var g=P.getPanelConfig(q.id),L=g.content;("beginRestore"===q.kind||"betweenResize"===q.kind||"endToggle"===q.kind)&&(L&&L.invalidate&&L.invalidate(),g.items&&g.items.forEach(function(J){J&&J.content&&J.content.invalidate&&J.content.invalidate()}))})};q.def(b,K,{ms_v:1,_dragContainment:"parent",setConfig:function(d){function m(L){L.expanded=!L.expanded,E.togglePanel(L.id,!0,!0)}if(d){for(var E=this,W=E._view.parentNode;this._view.children.length;)this._view.removeChild(this._view.children[0]);E._config=d,E.$35i=[],d.expanded==R&&(d.expanded=d.expand!=R?d.expand:!0);var s=E._view,I=E.$24i(d,s,!0),D=I[2],O=d.width;E.$35i.push(I[1]),d.items&&d.items.forEach(function(M){M.expanded==R&&(M.expanded=M.expand!=R?M.expand:!0);var P=E.$24i(M,D.children[0]);E.$35i.push(P[1])});var b=v();c(b,g,10+H),c(b,j,10+H),c(b,z,N),c(b,l,Y),c(b,P,Y),b[t]="resize-area",X(s,b),E.$10i(),d.flowLayout&&c(s,z,"relative"),c(s,"opacity",Y),X(e().body,s),O==R&&(O=s.offsetWidth),c(s,g,O+H),c(s,i,O+H);var _=d.content;_&&_.isSelfViewEvent&&(_.setX(0),_.setY(0),_.setWidth(O-2*(d.borderWidth||0)),_.setHeight(d.contentHeight)),d.items&&d.items.forEach(function(x){m(x)}),d.buttons&&d.buttons.indexOf("toggle")<0||m(d),d.minimized==R&&d.minimize!=R&&(d.minimized=d.minimize),d.minimized&&d.minimizable!==!1&&E.minimize(!0),G(e().body,s),c(s,"opacity",C),W&&X(W,s),E.iv()}},getPanelConfig:function(K){var J=this,w=J._config,k=w.items;if(w.id===K)return w;if(k)for(var N=0;N<k.length;N++){var D=k[N];if(D.id===K)return D}},getPanelView:function(g){for(var H=this,s=H.$35i,$=0;$<s.length;$++){var J=s[$],t=J.parentNode;if(t.$15i===g)return t}},setDragContainment:function(G){this._dragContainment=G},getDragContainment:function(){return this._dragContainment},$20i:function(){var N=this._config,u=N.restoreIconSize||24;return u},$5i:function(_){var g=_.titleIconSize||16;return B&&(g*=1.2),g},$4i:function(d){var r=d.titleHeight||q.widgetTitleHeight;return r},setTitle:function(V,i){if(i==R&&(i=this._config.id),i!=R){var s=this.getPanelConfig(i),p=this.getPanelView(i);s.title=V,p.querySelector(".panel-title span").innerHTML=V}},setInnerPanel:function(e){var w,H,r=this,i=e.id,t=r.$35i,X=!1;if(e.expanded==R&&(e.expanded=!0),i!=R){var $=r.getPanelConfig(i);if($){X=!0;var Z,D=r.getPanelView(i),W=D.parentNode,J=D.children[0];if(D!==r._view){r.$11i();for(Z in $)delete $.key;for(Z in e)$[Z]=e[Z];w=r.$24i(e,W,!1,D),H=w[1],W.removeChild(D);for(var M=0;M<t.length;M++)if(t[M]===J){t.splice(M,1,H);break}r.$12i(),$.expanded=!$.expanded,r.togglePanel($.id,!0,!0),r.iv()}}}if(!X){r.$11i(),w=r.$24i(e,r._view.children[1]),H=w[1],t.push(H),r._config.items||(r._config.items=[]);var p=r._config.items;if(p.push(e),r.$12i(),p.length>1){var u=p[p.length-2],n=r.getPanelView(u.id).children[0];c(n,"border-bottom",r.$55i(u))}e.expanded=!e.expanded,r.togglePanel(e.id,!0,!0),r.iv()}},removeInnerPanel:function(p){var i,w=this,s=-1,T=w._config.items;if(T)for(i=0;i<T.length;i++){var A=T[i];if(A.id===p){s=i;break}}if(w.$11i(),s>=0){var r=w.$35i,M=w.getPanelView(p),e=M.children[0];for(i=0;i<r.length;i++)if(r[i]===e){r.splice(i,1);break}T.splice(s,1),M.parentNode.removeChild(M)}if(w.$12i(),T.length>0){var R=T[T.length-1],D=w.getPanelView(R.id).children[0];c(D,"border-bottom",w.$55i(R))}},$6i:function(W){c(W,"cursor","pointer"),c(W,"display","inline-block"),c(W,"margin-right",(B?8:4)+H),c(W,"vertical-align",s)},$24i:function(I,n,y,h){var u=this,f=u._config.flowLayout,T=y?n:v(),D=u.$50i(I),Y=u.$3i(I,y);T[t]="ht-widget-panel"+(y?" outer-panel":" inner-panel"),I.borderWidth==R&&(I.borderWidth=y?2:0);var g=I.borderWidth;if(g="0 "+g+H+" "+g+H+" "+g+H+" ",c(T,"border-width",g),c(T,"border-color",I.titleBackground||q.panelTitleBackground),c(T,"border-style","solid"),X(T,Y),X(T,D),y||(h?n.insertBefore(T,h):X(n,T)),!f&&y&&I.minimizable!==!1){var r=m(),_=u.$20i(),K=I.restoreToolTip;V.setCanvas(r,_,_),r[t]="control-button button-minimize button-minimize-restore",u.$6i(r),c(r,"display","none"),X(n,r),r.title=K||""}var O=I.panelBackground||I.titleBackground||q.panelTitleBackground;if(c(T,"background-color",O),I.id==R){for(var S=u.$1i++;u.getPanelConfig(S);)S=u.$1i++;I.id=S}return T.$15i=I.id,I.width&&(T.style.width=I.width+H),[T,Y,D]},$9i:function(e){var f=m();f[t]="control-button button-toggle button-toggle-expand",f.title=e.toggleToolTip||"";var Q=this.$4i(e),_=this.$5i(e);return this.$6i(f),V.setCanvas(f,_,Q),f},$8i:function(N){var k=m(),j="control-button button-independent-switch";k[t]=N.independent===!0?j+" button-independent-switch-on":j+" button-independent-switch-off",k.title=N.independentSwitchToolTip||"";var Z=this.$4i(N),L=this.$5i(N);return this.$6i(k),V.setCanvas(k,L,Z),k},$7i:function(k){var z=m();z[t]="control-button button-minimize button-minimize-minimize",z.title=k.minimizeToolTip||"";var O=this.$4i(k),p=this.$5i(k);return this.$6i(z),V.setCanvas(z,p,O),z},$55i:function(F){var W=this._config,C=W.items,Z=F.separatorWidth||q.panelSeparatorWidth,_=F.titleBackground||q.panelTitleBackground,U=F.expanded!==!1?_:F.separatorColor||q.panelSeparatorColor||q.brighter(_);return(W===F||C&&C.indexOf(F)===C.length-1)&&(Z=0),Z+H+" solid "+U},$3i:function(J,a){var k=this,O=k._config.flowLayout,R=v(),y=v(),f=k.$4i(J),i=J.titleBackground,j=J.titleColor,Q=J.titleIcon,M=J.buttons;if(R[t]="panel-title",c(R,z,"relative"),c(R,"background",i||q.panelTitleBackground),c(R,"color",j||q.panelTitleLabelColor),c(R,s,Y),c(R,"box-sizing","border-box"),c(R,"-moz-box-sizing","border-box"),c(R,"padding","0 5px 0 0"),c(R,g,"100%"),c(R,"cursor","default"),c(R,"white-space","nowrap"),c(R,"font",q.panelTitleLabelFont),Q){var A=m();A[t]="control-button panel-title-icon";var e=k.$4i(J),p=k.$5i(J);k.$6i(A),V.setCanvas(A,p,e),X(R,A)}var b=E("span");c(b,"display","inline-block"),c(b,"margin-left","5px"),b[Z]="<span>"+J.title+"</span>",X(R,b),c(R,"line-height",f+H),y[t]="panel-title-controls",c(y,z,N),c(y,r,Y),c(y,P,5+H),c(y,s,Y),c(y,l,Y),c(y,"text-align",P);var o=function(){var K=k.$9i(J);X(y,K)},w=function(){if(!O&&a&&J.minimizable!==!1){var G=k.$7i(J);X(y,G)}},D=function(){if(!a){var o=k.$8i(J);X(y,o)}},T=function(v){var U=m();U[t]="control-button custombutton-"+v.name,U.title=v.toolTip||"",U._action=v.action;var f=k.$4i(J),u=k.$5i(J);k.$6i(U),V.setCanvas(U,u,f),X(y,U)};if(M)for(var K=0;K<M.length;K++){var x=M[K];"string"==typeof x?"minimize"===x?w():"independentSwitch"===x?D():"toggle"===x&&o():"object"==typeof x&&T(x)}else w(),o();return X(R,y),R},$50i:function(N){var W=v(),$=N.contentHeight,n=v();c(n,z,"relative"),W[t]="panel-body",c(W,"overflow","hidden");var m=N.contentBackground;if(m===y&&(m="white"),c(W,"background",m),c(W,"font",q.panelContentLabelFont),X(W,n),N.content){var E,e=N.content;e.getView?(X(n,e.getView()),E=n.children[0]):e instanceof Element?(X(n,e),E=n.children[0]):n[Z]=e,e.isSelfViewEvent||E&&(c(E,g,"100%"),c(E,j,"100%")),$&&c(n,j,$+H)}return W},$10i:function(){var N=this,S=N._config,X=N._view,W=X.querySelector(".resize-area").style;W.display=S.flowLayout||S.minimized===!0||S.expanded===!1?n:"block"},$11i:function(){var O=this._view,h=O.children[1];this.$13i>=0?this.$13i++:this.$13i=1,c(h,M,C),c(O,i,C)},$12i:function(){var P=--this.$13i;if(0===P){var D=this._view,p=D.children[1];c(p,M,p.scrollHeight+H),c(D,i,D.offsetWidth+H)}},$14i:function(){var O=this._view,q=O.children[0],C=q.children[1].children,X=this._config,Y=0;O.$26i=O.offsetWidth,Y+=q.children[0].offsetWidth,X.titleIcon&&(Y+=q.children[1].offsetWidth,C=q.children[2].children);for(var T=0;T<C.length;T++){var f=C[T];Y+=f.offsetWidth+5}O.$51i=Y+15},togglePanel:function(y,a,L){function U(i){var P=i.target,$=P.parentNode,T=F.getPanelConfig($.$15i);delete $.$19i,P!==v&&F.$12i(),F.$18i.fire({kind:"endToggle",target:F,id:T.id})}for(var F=this,k=F._view,v=k.children[1],S=R,s=F.$35i,m=s.length,J=F._config.exclusive,V=F.$2i,Z=[],r=F._config.narrowWhenCollapse,p=0;m>p;p++){var W=s[p],X=W.parentNode,x=X.$15i,A=F.getPanelConfig(x);x===y&&(S=X),!a&&J&&A.expanded&&X!==k&&x!==y&&A.independent!==!0&&Z.push(X)}if(S&&!S.$19i){S.$19i=!0;var o=S.children[1],D=S.querySelector(".button-toggle"),T=F.getPanelConfig(S.$15i);if(!D)return;S===k||T.expanded||T.independent===!0||Z.forEach(function(s){F.togglePanel(s.$15i,!0)}),S!==k&&F.$11i();var E=200;if(L&&(E=0),F.$18i.fire({kind:"beginToggle",target:F,id:S.$15i}),T.expanded){var O=function(){D[t]="control-button button-toggle",D[t]+=V.indexOf("Bottom")>=0?" button-toggle-expand":" button-toggle-collapse",c(o,g,o.clientWidth+H),T.expanded=!1,c(S.children[0],"border-bottom",F.$55i(T)),f(o).duration(E).set("opacity",Y).set(M,Y).end(U),r&&S===k&&f(S).duration(E).set(i,S.$51i+H).end(),S[t]+=" panel-collapse",f(S).duration(E).set("padding-bottom",Y).end(),F.$28i(T,!0),F.$10i()};r&&S===k&&F.$14i(),O()}else D[t]="control-button button-toggle",D[t]+=V.indexOf("Bottom")>=0?" button-toggle-collapse":" button-toggle-expand",c(o,g,C),T.expanded=!0,c(S.children[0],"border-bottom",F.$55i(T)),f(o).duration(E).set("opacity","1").set(M,o.scrollHeight+H).end(U),r&&S===k&&f(S).duration(E).set(i,(S.$26i||S.offsetWidth)+H).end(),S[t]=S[t].replace(" panel-collapse",C),f(S).duration(E).end(),F.$28i(T,!0),F.$10i()}},$16i:function(){var _=this._view,f=_.$22i,B=_.$23i,w=this.$2i;return f==R&&(w.indexOf(r)>=0?f=_.$22i=0:w.indexOf(P)>=0&&(f=_.$22i=100)),B==R&&(w.indexOf("Top")>=0?B=_.$23i=0:w.indexOf("Bottom")>=0&&(B=_.$23i=100)),[f,B]},$25i:function(){var F=this,$=F._view,v=$.$21i,T=F.$20i(),K=F.$16i(),Z=K[0],D=K[1],g=F.$2i;$.children[0].style.display=n,$.children[1].style.display=n,$.children[2].style.display=C,c($,"padding",Y),c($,i,T+H),"leftTop"===g?(c($,r,o(u($,r))+(v.width-T)*Z/100+H),c($,s,o(u($,s))+(v.height-T)*D/100+H)):"leftBottom"===g?(c($,r,o(u($,r))+(v.width-T)*Z/100+H),c($,l,o(u($,l))+(v.height-T)*(1-D/100)+H)):"rightTop"===g?(c($,P,o(u($,P))+(v.width-T)*(1-Z/100)+H),c($,s,o(u($,s))+(v.height-T)*D/100+H)):"rightBottom"===g&&(c($,P,o(u($,P))+(v.width-T)*(1-Z/100)+H),c($,l,o(u($,l))+(v.height-T)*(1-D/100)+H)),$[t]+=" panel-minimized",F.$18i.fire({kind:"endMinimize",target:F,id:$.$15i})},$17i:function(){var i=this,x=i._config,r=i._view;c(r,"-webkit-transform",C),c(r,"-ms-transform",C),c(r,"transform",C),x.minimized?i.$25i():(i.$18i.fire({kind:"endRestore",target:i,id:x.id}),r[t]=r[t].replace(" panel-minimized",C)),delete r.$19i},minimize:function(t){var h=this,r=h._view;if(!r.$19i&&r.children[0].style.display!==n){var O=h._config,U=r.getBoundingClientRect(),I=h.$20i(),Y=U.width,M=U.height,X=I/Y,e=I/M,V=h.$16i(),J=V[0],C=V[1];r.$52i=X,r.$53i=e,r.$21i=U,h.$18i.fire({kind:"beginMinimize",target:h,id:r.$15i});var k=200;t&&(k=0),O.minimized=!0,r.$19i=!0,O.expanded&&(r.$26i=r.offsetWidth);var w=J+"% "+C+"%";c(r,"-webkit-transform-origin",w),c(r,"-ms-transform-origin",w),c(r,"transform-origin",w),f(r).duration(k).scale(X,e).end(function(){h.$17i()}),h.$10i()}},restore:function(){var J,t,m,M,W,v,q,k,A,w,U,L,V=this,z=V._view,j=z.parentNode,E=V._config;if(!z.$19i&&E.minimized){var B=z.$21i,I=z.$52i,x=z.$53i,C=(E.borderWidth+H,V.$20i()),O=S(j),K=V.$2i;"leftTop"===K?(J=o(u(z,r)),m=o(u(z,s)),W=J,q=m,A=J+B.width-O.width,w=m+B.height-O.height,A>0&&(A>=J?J=0:J-=A),w>0&&(w>=m?m=0:m-=w),U=100*((W-J)/(B.width-C)),L=100*((q-m)/(B.height-C)),c(z,r,J+H),c(z,s,m+H)):"leftBottom"===K?(J=o(u(z,r)),M=o(u(z,l)),W=J,k=M,A=J+B.width-O.width,w=M+B.height-O.height,A>0&&(A>=J?J=0:J-=A),w>0&&(w>=M?M=0:M-=w),U=100*((W-J)/(B.width-C)),L=100*(1-(k-M)/(B.height-C)),c(z,r,J+H),c(z,l,M+H)):"rightTop"===K?(t=o(u(z,P)),m=o(u(z,s)),v=t,q=m,A=t+B.width-O.width,w=m+B.height-O.height,A>0&&(A>=t?t=0:t-=A),w>0&&(w>=m?m=0:m-=w),U=100*(1-(v-t)/(B.width-C)),L=100*((q-m)/(B.height-C)),c(z,P,t+H),c(z,s,m+H)):"rightBottom"===K&&(t=o(u(z,P)),M=o(u(z,l)),v=t,k=M,A=t+B.width-O.width,w=M+B.height-O.height,A>0&&(A>=t?t=0:t-=A),w>0&&(w>=M?M=0:M-=w),U=100*(1-(v-t)/(B.width-C)),L=100*(1-(k-M)/(B.height-C)),c(z,P,t+H),c(z,l,M+H)),z.children[0].style.display="block",z.children[1].style.display="block",z.children[2].style.display=n,c(z,"-webkit-transform","scale("+I+", "+x+")"),c(z,"-ms-transform","scale("+I+", "+x+")"),c(z,"transform","scale("+I+", "+x+")"),z.$22i=U,z.$23i=L,c(z,"-webkit-transform-origin",U+"% "+L+"%"),c(z,"-ms-transform-origin",U+"% "+L+"%"),c(z,"transform-origin",U+"% "+L+"%"),E.narrowWhenCollapse&&!E.expanded?c(z,i,z.$51i+H):c(z,i,z.$26i+H),V.$18i.fire({kind:"beginRestore",target:V,id:z.$15i}),z.$19i=!0,E.minimized=!1,p(function(){f(z).scale(1,1).end(function(){V.$17i()})},30),V.$10i()}},addEventListener:function(z,S,b){this.$18i.add(z,S,b)},removeEventListener:function(a,M){this.$18i.remove(a,M)},setPosition:function(y,j){var Z=this._view,F=this.$2i;"leftTop"===F?(c(Z,r,y+H),c(Z,s,j+H),c(Z,P,C),c(Z,l,C)):"leftBottom"===F?(c(Z,r,y+H),c(Z,l,j+H),c(Z,P,C),c(Z,s,C)):"rightTop"===F?(c(Z,P,y+H),c(Z,s,j+H),c(Z,r,C),c(Z,l,C)):"rightBottom"===F&&(c(Z,P,y+H),c(Z,l,j+H),c(Z,r,C),c(Z,s,C)),delete Z.$22i,delete Z.$23i},getPosition:function(){var g=this._view,V=this.$2i;return"leftTop"===V?{x:o(u(g,r)),y:o(u(g,s))}:"leftBottom"===V?{x:o(u(g,r)),y:o(u(g,l))}:"rightTop"===V?{x:o(u(g,P)),y:o(u(g,s))}:"rightBottom"===V?{x:o(u(g,P)),y:o(u(g,l))}:void 0},setPositionRelativeTo:function(N){var P=this,z=P._view.querySelectorAll(".button-toggle"),W="control-button button-toggle",H=P.getPosition();P.$2i=N,P.setPosition(H.x,H.y);for(var b=0;b<z.length;b++){var R=z[b],j=P.getPanelConfig(R.parentNode.parentNode.parentNode.$15i);R[t]=j.expanded?N.indexOf("Bottom")>=0?W+" button-toggle-collapse":W+" button-toggle-expand":N.indexOf("Bottom")>=0?W+" button-toggle-expand":W+" button-toggle-collapse"}P.iv()},getPositionRelativeTo:function(){return this.$2i},invalidate:function(M){var d=this;d._68I||(d._68I=1,q.callLater(d.validate,d,R,M),d.onInvalidated&&d.onInvalidated(),d.fireViewEvent("invalidate"));var r=this._config,H=r.content;H&&H.invalidate&&H.invalidate(),r.items&&r.items.forEach(function(p){p&&p.content&&p.content.invalidate&&p.content.invalidate()})},getIconStretch:function(){var z=this._config.iconStretch||"fill";return z},$27i:function(f,$,z,l,y){var m=V.initContext(f);V.translateAndScale(m,0,0,1),m.clearRect(0,0,z,z);var G=(z-l)/2;q.drawStretchImage(m,q.getImage($),this.getIconStretch(y),0,G,l,l),m.restore()},$28i:function(I){var p,Q,D,g=this,G=I.id,K=g.getPanelView(G),n=K.querySelector(".button-toggle"),S=g.$2i.indexOf("Bottom")>=0;if(Q=S?q.panelCollapseIcon:q.panelExpandIcon,D=S?q.panelExpandIcon:q.panelCollapseIcon,n){p=I.expanded?q.getImage(D):q.getImage(Q);var y=g.$4i(I),r=g.$5i(I);g.$27i(n,p,y,r,"toggle")}},$29i:function(s){var C,l=this,F=s.id,J=l.getPanelView(F),g=J.querySelector(".button-independent-switch"),n=q.panelUnLockIcon,u=q.panelLockIcon;if(g){C=s.independent!==!0?q.getImage(u):q.getImage(n);var o=l.$4i(s),V=l.$5i(s);l.$27i(g,C,o,V,"switch")}},$30i:function(s){var g=this,L=s.id,S=g.getPanelView(L),J=S.querySelector(".button-minimize-minimize"),I=q.panelMinimizeIcon;if(J){var z=g.$4i(s),N=g.$5i(s);g.$27i(J,q.getImage(I),z,N,"miminize")}},$31i:function(D){var s=this,r=D.id,Y=s.getPanelView(r),G=Y.querySelector(".button-minimize-restore"),I=D.titleIcon||q.panelRestoreIcon;if(G){var b=s.$20i();s.$27i(G,q.getImage(I),b,b,"restore")}},$32i:function(X){var W=this,V=X.id,G=W.getPanelView(V);if(X.buttons){var m=X.buttons;m.forEach(function(_){var S=_.name,j=_.icon;if(S&&j){var E=G.querySelector(".custombutton-"+S);if(E){var R=W.$4i(X),Q=W.$5i(X)-1;W.$27i(E,q.getImage(j),R,Q,"custom")}}})}},$33i:function(C){var i=this,K=C.id,$=i.getPanelView(K),d=$.querySelector(".panel-title-icon"),u=C.titleIcon;if(d&&u){var E=i.$4i(C),W=i.$5i(C);i.$27i(d,q.getImage(u),E,W,"title")}},validateImpl:function(){var z=this,E=z._config;z.$28i(E),z.$30i(E),z.$31i(E),z.$32i(E),z.$33i(E),E.items&&E.items.forEach(function(i){z.$28i(i),z.$29i(i),z.$32i(i)})}});var I=function(Q){var t=this,N=Q.getView();t.$34i=Q,t.addListeners(),d(N,"dblclick",t.$42i.bind(t))};q.def(I,K,{ms_listener:1,getView:function(){return this.$34i.getView()},clear:function(){delete this.$37i,delete this.$38i,delete this.$36i,delete this.$39i},$42i:function(X){for(var Z=this.$34i,T=X.target,D=Z.$35i,I=D.length,E=0;I>E;E++){var s=D[E];s.contains(T)&&(X.preventDefault(),Z.togglePanel(s.parentNode.$15i))}},handle_touchstart:function(Z){var A=this,F=A.$34i,H=F._config,p=H.flowLayout,Y=Z;if(q.isLeftButton(Z)){var S=Z.target,$=F.getView().children[0],w=F.getView().querySelector(".button-minimize-restore");B&&(Y=J(Z));var f=A.$40i={x:Y.pageX,y:Y.pageY};A.$41i={x:f.x,y:f.y},(!p&&$.contains(S)||w&&w.contains(S))&&(A.$38i=!0,q.startDragging(A,Z)),!p&&A.handle_mousemove(Z)&&(A.$37i=!0,q.startDragging(A,Z),F.$11i())}},handle_mousedown:function(N){this.handle_touchstart(N)},handle_touchend:function(C){var s=this,Y=s.$34i,r=C.target,P=Y.$35i,u=P.length,W=0,x=Y.getView(),E=x.querySelector(".button-minimize"),O=x.querySelector(".button-minimize-restore");if(!s.$39i&&!s.$36i){if(E&&E.contains(r)||O&&O.contains(r))C.preventDefault(),Y._config.minimized?Y.restore():Y.minimize();else for(;u>W;W++){var D=P[W],d=D.parentNode,L=d.$15i,g=Y.getPanelConfig(L),U=D.querySelector(".button-toggle"),V=D.querySelector(".button-independent-switch");if(U===r)C.preventDefault(),Y.togglePanel(L);else if(V===r){C.preventDefault();var F="button-independent-switch-off",c="button-independent-switch-on";g.independent=g.independent==R?!0:!g.independent,V[t]=g.independent?V[t].replace(F,c):V[t].replace(c,F),Y.$29i(g)}else r[t]&&r[t].indexOf("control-button custombutton-")>=0&&D.contains(r)&&r._action.call(Y,g,Y.getPanelView(L),C)}delete s.$40i,delete s.$41i}},handle_mouseup:function($){this.handle_touchend($)},handleWindowTouchEnd:function(){var U=this,E=U.$34i;U.$37i&&U.$36i?(E.$18i.fire({kind:"endResize",target:E,id:E.getView().$15i}),E.$12i()):U.$38i&&U.$39i&&E.$18i.fire({kind:"endMove",target:E,id:E.getView().$15i}),this.clear()},handleWindowMouseUp:function(p){this.handleWindowTouchEnd(p)},handle_mousemove:function(b){var c=this,F=c.getView(),i=F.querySelector(".resize-area"),h=i.getBoundingClientRect(),$={x:h.left,y:h.top,width:h.width,height:h.height};b=B?J(b):b;var M=b.clientX,y=b.clientY,G=c.$34i._config;return G.expanded&&G.minimized!==!0&&q.containsPoint($,{x:M,y:y})?(F.style.cursor="nwse-resize",!0):(F.style.cursor=C,void 0)},handleWindowTouchMove:function(Q){Q.preventDefault();var I=Q;B&&(I=J(Q));var _=this,A=_.$40i,F=_.$41i;if(!(F.x==A.x&&F.y==A.y&&q.getDistance(F,{x:I.pageX,y:I.pageY})<=1)){var C=_.$34i,Z=_.getView(),R=Z.parentNode,p=C._config,e=p.resizeMode||"wh",m=I.pageX-A.x,v=I.pageY-A.y,D=C.$2i;if(_.$37i){var n=Z.children[1].children[0],N=Z.offsetWidth,E=n.offsetHeight,G=N+m,T=E+v;G=Math.max(G,100),T=Math.max(T,100),"w"===e?(c(Z,g,G+H),p.width=G):"h"===e?(c(n,j,T+H),p.contentHeight=T):"wh"===e&&(c(Z,g,G+H),c(n,j,T+H),p.width=G,p.contentHeight=T),D.indexOf("right")>=0&&c(Z,P,o(u(Z,P))-(G-N)+H),D.indexOf("Bottom")>=0&&c(Z,l,o(u(Z,l))-(T-E)+H),A.x=I.pageX,A.y=I.pageY;var f=p.content;f&&f.isSelfViewEvent&&(f.setX(0),f.setY(0),f.setWidth(p.width-2*(p.borderWidth||0)),f.setHeight(p.contentHeight)),_.$36i?C.$18i.fire({kind:"betweenResize",target:C,id:C.getView().$15i}):(_.$36i=!0,C.$18i.fire({kind:"beginResize",target:C,id:C.getView().$15i}))}else if(_.$38i){var b,M,w,z,X,U,Y,L,O,y,d=Z.getBoundingClientRect(),t=d.width,x=d.height,K=S(R),a=K.width,W=K.height,$=C._dragContainment;"leftTop"===D?(b=o(u(Z,r))||0,w=o(u(Z,s))||0,X=b+m,Y=w+v,"parent"===$&&(X+t>a&&(X=a-t),Y+x>W&&(Y=W-x),0>X&&(X=0),0>Y&&(Y=0)),O=X-b,y=Y-w,C.setPosition(X,Y),A.x+=O,A.y+=y):"rightBottom"===D?(M=o(u(Z,P))||0,z=o(u(Z,l))||0,U=M-m,L=z-v,"parent"===$&&(0>U&&(U=0),0>L&&(L=0),U+t>a&&(U=a-t),L+x>W&&(L=W-x)),O=U-M,y=L-z,C.setPosition(U,L),A.x-=O,A.y-=y):"rightTop"===D?(M=o(u(Z,P))||0,w=o(u(Z,s))||0,U=M-m,Y=w+v,"parent"===$&&(0>U&&(U=0),0>Y&&(Y=0),U+t>a&&(U=a-t),Y+x>W&&(Y=W-x)),O=U-M,y=Y-w,C.setPosition(U,Y),A.x-=O,A.y+=y):"leftBottom"===D&&(b=o(u(Z,r))||0,z=o(u(Z,l))||0,X=b+m,L=z-v,"parent"===$&&(0>X&&(X=0),0>L&&(L=0),X+t>a&&(X=a-t),L+x>W&&(L=W-x)),O=X-b,y=L-z,C.setPosition(X,L),A.x+=O,A.y-=y),_.$39i?C.$18i.fire({kind:"betweenMove",target:C,id:C.getView().$15i}):(_.$39i=!0,C.$18i.fire({kind:"beginMove",target:C,id:C.getView().$15i}))}}},handleWindowMouseMove:function(N){this.handleWindowTouchMove(N)}});var Q=A.widget.PanelGroup=function($){var B=this,o=B._view=V.createView(null,B);o.style.border="1px dashed black",o.style.position="absolute",o.style.background="rgba(120, 120, 120, 0.4)",B.$48i=new A.List,B._tolerance=100,B._config=$||{hGap:0,vGap:0},B.bindHandlePanelMove=B.handlePanelMove.bind(B),B.bindHandlePanelEvent=B.handlePanelEvent.bind(B),B.invalidate()};q.def(Q,K,{invalidate:function(){var P=this;P._68I||(P._68I=1,p(function(){P.validate()},50))},validate:function(){if(this._68I){delete this._68I;var u=this.$48i.get(0);if(u){var X=u.getView().parentNode;X&&(this.layoutPanels(X,"leftTop"),this.layoutPanels(X,"rightTop"),this.layoutPanels(X,"leftBottom"),this.layoutPanels(X,"rightBottom"))}}},setLeftTopPanels:function(){var D=this,o=D.$43i,J=D.$48i;o==R&&(o=D.$43i=new A.List);for(var t=0;t<arguments.length;t++){var O=arguments[t];if("string"==typeof O)o.$49i=O;else{if(O._config.flowLayout)continue;O.setPositionRelativeTo("leftTop"),o.contains(O)||o.add(O),J.contains(O)||D.add(O)}}},setRightTopPanels:function(){var Y=this,z=Y.$44i,x=Y.$48i;z==R&&(z=Y.$44i=new A.List);for(var G=0;G<arguments.length;G++){var N=arguments[G];if("string"==typeof N)z.$49i=N;else{if(N._config.flowLayout)continue;N.setPositionRelativeTo("rightTop"),z.contains(N)||z.add(N),x.contains(N)||Y.add(N)}}},setLeftBottomPanels:function(){var z=this,M=z.$45i,S=z.$48i;M==R&&(M=z.$45i=new A.List);for(var _=0;_<arguments.length;_++){var q=arguments[_];if("string"==typeof q)M.$49i=q;else{if(q._config.flowLayout)continue;q.setPositionRelativeTo("leftBottom"),M.contains(q)||M.add(q),S.contains(q)||z.add(q)}}},setRightBottomPanels:function(){var S=this,m=S.$46i,P=S.$48i;m==R&&(m=S.$46i=new A.List);for(var l=0;l<arguments.length;l++){var t=arguments[l];if("string"==typeof t)m.$49i=t;else{if(t._config.flowLayout)continue;t.setPositionRelativeTo("rightBottom"),m.contains(t)||m.add(t),P.contains(t)||S.add(t)}}},add:function(x){if(!x._config.flowLayout){var N=this,C=N.$48i;C.contains(x)||(x.addEventListener(N.bindHandlePanelMove),x.addEventListener(N.bindHandlePanelEvent),C.add(x))}},remove:function(o){var e=this,p=e.$48i;p.contains(o)&&(o.removeEventListener(e.bindHandlePanelMove),o.removeEventListener(e.bindHandlePanelEvent),p.remove(o),e.$43i.contains(o)&&e.$43i.remove(o),e.$44i.contains(o)&&e.$44i.remove(o),e.$45i.contains(o)&&e.$45i.remove(o),e.$46i.contains(o)&&e.$46i.remove(o))},layoutPanels:function(o,x,h){var I=this,T=I._config,Z=T.hGap||0,k=T.vGap||0;if(o){var t=I.$43i;if("leftBottom"===x?t=I.$45i:"rightTop"===x?t=I.$44i:"rightBottom"===x&&(t=I.$46i),!t)return;var D=t.$49i,b=Z,K=k;if(o.contains(I._view)&&o.removeChild(I._view),t&&t.size()>0)for(var w=0;w<t.size();w++){var j=t.get(w),U=j.getView();o=o||U.parentNode,h!==w?j.setPosition(b,K):("leftTop"===x?(I._view.style.right="",I._view.style.bottom="",I._view.style.left=b+H,I._view.style.top=K+H):"leftBottom"===x?(I._view.style.right="",I._view.style.top="",I._view.style.left=b+H,I._view.style.bottom=K+H):"rightTop"===x?(I._view.style.left="",I._view.style.bottom="",I._view.style.right=b+H,I._view.style.top=K+H):"rightBottom"===x&&(I._view.style.left="",I._view.style.top="",I._view.style.right=b+H,I._view.style.bottom=K+H),I._view.style.width=U.offsetWidth+H,I._view.style.height=U.offsetHeight+H,o.insertBefore(I._view,U)),"h"===D?b+=U.offsetWidth+Z:"v"===D&&(K+=U.offsetHeight+k)}}},handlePanelEvent:function(z){if("beginToggle"===z.kind||"endToggle"===z.kind||"beginRestore"===z.kind||"endMinimize"===z.kind||"endResize"===z.kind){var m=this,Q=z.target,$=Q.getView(),X=$.parentNode,D=m.$43i,S=m.$44i,w=m.$45i,l=m.$46i,I=m._config,i=R,c=R,A=Q.$47i;if(A==R&&(A=Q.$47i=0),"beginToggle"===z.kind?A=Q.$47i=A+1:"endToggle"===z.kind&&(A=Q.$47i=A-1),D&&D.contains(Q)?(i="leftTop",c=D):w&&w.contains(Q)?(i="leftBottom",c=w):S&&S.contains(Q)?(i="rightTop",c=S):l&&l.contains(Q)&&(i="rightBottom",c=l),"beginToggle"===z.kind&&i&&1===A){var o=v(),V=o.style,u=c.$49i,b="each";V.fontSize="0",V.position="absolute",V.width="100%","leftTop"===i?(V.left=0,V.top=0):"leftBottom"===i?(V.left=0,V.bottom=0,"v"===u&&(b="reverseEach")):"rightTop"===i?(V.right=0,V.top=0,V.textAlign="right","h"===u&&(b="reverseEach")):"rightBottom"===i&&(V.right=0,V.bottom=0,V.textAlign="right",b="reverseEach"),c[b](function(z){var W=z.getView(),C=W.style,r=v();C.position="static",r.style.textAlign="left",r.style.position="relative",r.style.display="inline-block","leftTop"===i?(r.style.marginLeft=I.hGap+H,r.style.marginTop=I.vGap+H):"leftBottom"===i?(r.style.marginLeft=I.hGap+H,r.style.marginBottom=I.vGap+H):"rightTop"===i?(r.style.marginRight=I.hGap+H,r.style.marginTop=I.vGap+H):"rightBottom"===i&&(r.style.marginRight=I.hGap+H,r.style.marginBottom=I.vGap+H),r.appendChild(W),o.appendChild(r),"h"===u?r.style.verticalAlign="leftTop"===i||"rightTop"===i?"top":"bottom":o.appendChild(E("br"))}),m.$54i=o,X.appendChild(o)}else"endToggle"===z.kind&&i&&0===A?p(function(){X=X.parentNode.parentNode,X.removeChild(m.$54i),delete m.$54i,c.each(function(j){var _=j.getView(),U=_.style;U.position="absolute",X.appendChild(_)}),m.layoutPanels(X,i)},30):("beginRestore"===z.kind||"endMinimize"===z.kind||"endResize"===z.kind)&&i&&m.layoutPanels(X,i)}},handlePanelMove:function(B){if(!(B.kind.indexOf("Move")<0)){var m=this,i=m._config,P=i.hGap||0,X=i.vGap||0,f=B.target,K=f._view,p=K.getBoundingClientRect(),Z=p.width,r=p.height,l=Z/2,y=r/2,b=K.parentNode,e=m.$43i,g=m.$44i,q=m.$45i,_=m.$46i,U=b.getBoundingClientRect(),v=m._tolerance;if("endMove"===B.kind){var M=m._corner;M&&(f.setPositionRelativeTo(M),m.layoutPanels(b,M)),delete m._corner}if("betweenMove"===B.kind){var n=U.left,Y=U.top,V=U.width,C=U.height,J=p.left+Z/2,c=p.top+r/2;e==R&&(e=m.$43i=new A.List),q==R&&(q=m.$45i=new A.List),g==R&&(g=m.$44i=new A.List),_==R&&(_=m.$46i=new A.List),delete m._corner,e.contains(f)?(e.remove(f),m.layoutPanels(b,"leftTop")):q.contains(f)?(q.remove(f),m.layoutPanels(b,"leftBottom")):g.contains(f)?(g.remove(f),m.layoutPanels(b,"rightTop")):_.contains(f)&&(_.remove(f),m.layoutPanels(b,"rightBottom"));var O=function(x,H){var i=n+P,q=Y+X;if(0===H.size()){var F=i+l,$=q+y;"leftBottom"===x?$=Y+C-X-y:"rightTop"===x?F=n+V-P-l:"rightBottom"===x&&(F=n+V-P-l,$=Y+C-X-y);var N=J-F,O=c-$,B=Math.sqrt(N*N+O*O);if(v>B)return m._corner=x,H.add(f),m.layoutPanels(b,x,0),!0}else if(1===H.size()){var E=H.get(0),T=E.getView().getBoundingClientRect(),u=T.left+l,h=T.top+y,I=T.left+T.width+P+l,k=q+y,M=i+l,Z=T.top+T.height+X+y;"leftBottom"===x?(h=T.top+T.height-y,k=Y+C-X-y,Z=T.top-X-y):"rightTop"===x?(u=T.left+T.width-l,I=T.left-P-l,M=n+V-P-l):"rightBottom"===x&&(u=T.left+T.width-l,h=T.top+T.height-y,I=T.left-P-l,k=Y+C-X-y,M=n+V-P-l,Z=T.top-X-y);var K=J-u,L=c-h,D=J-I,t=c-k,p=J-M,G=c-Z,W=o(Math.sqrt(K*K+L*L)),z=o(Math.sqrt(D*D+t*t)),U=o(Math.sqrt(p*p+G*G)),_=[W,z,U];_.sort(function(p,w){return p-w});var r=_[0];if(v>r){if(m._corner=x,r===W)return H.add(f,0),m.layoutPanels(b,x,0),!0;if(r===z)return H.add(f),H.$49i="h",m.layoutPanels(b,x,1),!0;if(r===U)return H.add(f),H.$49i="v",m.layoutPanels(b,x,1),!0}}else if(H.size()>1){for(var S=R,g={},w=[],Q=H.$49i,d=0;d<H.size();d++){var s=H.get(d),e=s.getView(),A=e.getBoundingClientRect(),a=A.left+l,j=A.top+y;"leftBottom"===x?j=A.top+A.height-y:"rightTop"===x?a=A.left+A.width-l:"rightBottom"===x&&(a=A.left+A.width-l,j=A.top+A.height-y),d===H.size()-1&&(S=A);var N=J-a,O=c-j,B=o(Math.sqrt(N*N+O*O));g[B]=d,w.push(B)}"leftTop"===x&&"h"===Q?(F=S.left+S.width+P+l,$=q+y):"leftTop"===x&&"v"===Q?(F=i+l,$=S.top+S.height+X+y):"leftBottom"===x&&"h"===Q?(F=S.left+S.width+P+l,$=Y+C-X-y):"leftBottom"===x&&"v"===Q?(F=i+l,$=S.top-X-y):"rightTop"===x&&"h"===Q?(F=S.left-P-l,$=q+y):"rightTop"===x&&"v"===Q?(F=n+V-P-l,$=S.top+S.height+X+y):"rightBottom"===x&&"h"===Q?(F=S.left-P-l,$=Y+C-X-y):"rightBottom"===x&&"v"===Q&&(F=n+V-P-l,$=S.top-X-y),N=J-F,O=c-$,B=o(Math.sqrt(N*N+O*O)),g[B]=d,w.push(B),w.sort(function(H,M){return H-M});var r=w[0];if(v>r)return m._corner=x,H.add(f,g[r]),m.layoutPanels(b,x,g[r]),!0}};O("leftTop",e)||O("leftBottom",q)||O("rightTop",g)||O("rightBottom",_)}}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);